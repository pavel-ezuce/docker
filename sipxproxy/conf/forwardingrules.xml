<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!-- DO NOT EDIT THIS FILE. It is generated by sipXconfig web ui -->
<routes xmlns="http://www.sipfoundry.org/sipX/schema/xml/forwardingrules-00-00">
  <route mappingType="local">
    <description>
      Matches the SIPXCHANGE_DOMAIN_NAME (and all aliases for it).
      Routes SUBSCRIBE for message waiting indication to the status server.
      Routes SUBSCRIBE for "reg" events to the reg event server.
      All other requests go to the SIP registry/redirect service.
    </description>

    <routeFrom>ezuce:5060</routeFrom>
    <routeFrom>ezuce</routeFrom>
    <routeFrom>192.168.1.121:5060</routeFrom>
    <routeFrom>192.168.1.121</routeFrom>
    <routeFrom>ezuce:5060</routeFrom>
    <routeFrom>sipxproxy.ezuce</routeFrom>
    <routeFrom>ezuce:5060</routeFrom>
    <routeFrom>ezuce</routeFrom>
    <methodMatch>
      <methodPattern>SUBSCRIBE</methodPattern>

      <!-- Message waiting indication events -->
      <fieldMatch fieldName="Event">
        <fieldPattern>message-summary.*</fieldPattern>
        <!--this goes to the status server-->
        <routeTo ruriParams="sipx-noroute=Voicemail">&lt;ezuce:0;transport=tcp&gt;</routeTo>
      </fieldMatch>

      <!-- "reg" event subscriptions. -->
      <fieldMatch fieldName="Event">
        <fieldPattern>reg</fieldPattern>
        <routeTo ruriParams="sipx-noroute=Voicemail">&lt;10.3.0.5:5075;transport=tcp&gt;</routeTo>
      </fieldMatch>

      <!-- All other SUBSCRIBE requests go to the SIP registry service -->
      <routeTo ruriParams="sipx-noroute=Voicemail">&lt;rr.ezuce:0;transport=tcp;x-sipx-routetoreg&gt;</routeTo>

    </methodMatch>

    <methodMatch>
      <methodPattern>INVITE</methodPattern>
      <routeTo>&lt;rr.ezuce:0;transport=tcp;x-sipx-routetoreg&gt;</routeTo>
    </methodMatch>

    <!-- All other requests go to the SIP registry service -->
    <routeTo ruriParams="sipx-noroute=Voicemail">&lt;rr.ezuce:0;transport=tcp;x-sipx-routetoreg&gt;</routeTo>
  </route>


</routes>
